#include "math.hpp"



//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
int randRange(int min, int max)
{
	// Obtain a random number from hardware
	std::random_device rd;
	// Seed the generator
	std::mt19937 gen(rd());
	// Define the range
	std::uniform_int_distribution<> distr(min, max);

	return distr(gen);
}


//////////////////////////////////////////////////////////////////
/// \brief Array containing the 
//////////////////////////////////////////////////////////////////
uint16_t SIN[91] =
{
	0, 
	2268, 4534, 6794, 9046, 11287, 13514,
	15725, 17916, 20086, 22231, 24349, 26438, 
	28494, 30516, 32500, 34445, 36348, 38206, 
	40018, 41781, 43493, 45153, 46757, 48304, 
	49793, 51221, 52586, 53887, 55123, 56292, 
	57392, 58422, 59380, 60267, 61080, 61819, 
	62482, 63069, 63580, 64013, 64367, 64644, 
	64842, 64960, 65000, 64960, 64842, 64644, 
	64367, 64013, 63580, 63069, 62482, 61819, 
	61080, 60267, 59380, 58422, 57392, 56292, 
	55123, 53887, 52586, 51221, 49793, 48304, 
	46757, 45153, 43493, 41781, 40018, 38206, 
	36348, 34445, 32500, 30516, 28494, 26438, 
	24349, 22231, 20086, 17916, 15725, 13514, 
	11287, 9046, 6794, 4534, 2268, 0
};


//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
float mat_sin(float theta)
{
	int sign = 1;
	if (theta >= 180) { theta -= 180; sign = -1;}
	theta /= 2;

	int deg = (int)theta;
	float extrp = theta - deg;
	float va = sign*SIN[deg]/65000;
	float vb = sign*SIN[deg + 1]/65000;

	float result = va + (vb-va)*extrp;

    return result;
}


//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
float mat_cos(float theta)
{
	theta -= 90;
	if (theta < 0) theta += 360;
    int sign = 1;
	if (theta >= 180) { theta -= 180; sign = -1;}
	theta /= 2;

	int deg = (int)theta;
	float extrp = theta - deg;
	float va = sign*SIN[deg]/65000;
	float vb = sign*SIN[deg + 1]/65000;

	float result = va + (vb-va)*extrp;

    return result;
}


//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
float mat_tan(float theta)
{
	float result = mat_sin(theta)/mat_cos(theta);
    return result;
}